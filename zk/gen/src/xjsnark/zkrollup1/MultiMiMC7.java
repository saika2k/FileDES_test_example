package xjsnark.zkrollup1;

/*Generated by MPS */

import backend.auxTypes.UnsignedInteger;
import java.math.BigInteger;
import backend.structure.CircuitGenerator;

public class MultiMiMC7 {
  public UnsignedInteger[] in;
  public UnsignedInteger k = new UnsignedInteger(32, new BigInteger("0"));
  public UnsignedInteger out = new UnsignedInteger(32, new BigInteger("0"));
  public UnsignedInteger[] r;

  public MiMC7[] mims;

  // in这里还没有设置     可能要设置两个构造函数
  public MultiMiMC7(int nInputs, int nRounds, UnsignedInteger[] inn) {
    in = (UnsignedInteger[]) UnsignedInteger.createZeroArray(CircuitGenerator.__getActiveCircuitGenerator(), new int[]{nInputs}, 32);
    r = (UnsignedInteger[]) UnsignedInteger.createZeroArray(CircuitGenerator.__getActiveCircuitGenerator(), new int[]{nInputs + 1}, 32);
    mims = new MiMC7[nInputs];
    this.in = inn;
    r[0].assign(k, 32);

    for (int i = 0; i < nInputs; i++) {
      mims[i] = new MiMC7(nRounds, in[i].copy(256), r[i].copy(256));
    }

    out.assign(r[nInputs], 32);
  }

}
