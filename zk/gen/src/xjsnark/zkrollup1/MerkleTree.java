package xjsnark.zkrollup1;

/*Generated by MPS */

import backend.auxTypes.UnsignedInteger;
import java.math.BigInteger;
import java.security.MessageDigest;

public class MerkleTree {
  public MerkleTree leftTree = null;
  public MerkleTree rightTree = null;

  public Leaf leftLeaf = null;
  public Leaf rightLeaf = null;

  public UnsignedInteger digest = new UnsignedInteger(256, new BigInteger("0"));

  public MessageDigest md = null;

  public MerkleTree(MessageDigest md) {
    this.md = md;
  }

  public MerkleTree() {
  }

  public void add(MerkleTree lefttree, MerkleTree righttree) {
    leftTree = lefttree;
    rightTree = righttree;
    MiMC7 hash;
    hash = new MiMC7(13, leftTree.digest.copy(256), rightTree.digest.copy(256));
    digest.assign(hash.out, 256);
  }

  public void add(Leaf leftleaf, Leaf rightleaf) {
    leftLeaf = leftleaf;
    rightLeaf = rightleaf;
    MiMC7 hash;
    hash = new MiMC7(13, leftleaf.dataBlock.copy(256), rightleaf.dataBlock.copy(256));
    digest.assign(hash.out, 256);

  }

  public MerkleTree getLeftTree() {
    return leftTree;
  }

  public MerkleTree getRightTree() {
    return rightTree;
  }

  public Leaf getLeftLeaf() {
    return leftLeaf;
  }

  public Leaf getRightLeaf() {
    return rightLeaf;
  }

  public UnsignedInteger getDigest() {
    return digest;
  }
}
